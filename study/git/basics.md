---
description: 버전 관리 도구 Git에 대해 알아보자
---

# 기초

들어가기에 앞서 버전 관리란 무엇이며, 왜 해야 하는 걸까?

대개 단순히 변경 내용을 저장하면 이전 내용에서 현재 내용으로 덮어쓰게 된다. 이러한 방법의 문제점은 **변경 내역을 확인하기 어렵고, 버전을 되돌리기 어렵고, 협력하기 어렵다.** Git은 이 모든 것을 가능하게 한다.

***

## 버전 관리

버전이 만들어지는 과정을 이해하기 위해서 Git이 관리하는 세 개의 공간을 살펴보자.

### Git이 관리하는 공간

#### 1. 작업 디렉터리 (working directory)

로컬 저장소를 만들면 _.git_ 이라는 숨김 폴더가 생성된다. 이 폴더가 놓인 곳이 프로젝트가 위치할 공간이다. 즉, 작업 디렉터리는 **버전 관리의 대상이 위치하는 공간**이다.

#### 2. 스테이지 (stage)

만약 작업 디렉터리에 100개의 파일이 생성되거나 수정되거나 삭제되었을 때 모든 변경사항이 꼭 새로운 버전이 되어야 하는가? 그건 아니다.

변경된 파일 중에서 새로운 버전이 될 파일만 **스테이지**라는 공간으로 옮기게 된다. 즉, **변경 사항이 있는 파일 중 다음 버전 후보가 올라가는 공간**인 것이다. 스테이지로 옮기는 것을 '스테이지에 추가한다(add)' 또는 '해당 파일을 스테이지시킨다(staged)'라고 표현한다.

#### 3. 저장소 (repository)

스테이지에 있는 파일을 바탕으로 새로운 버전을 만들면 새 버전이 저장소에 추가된다. 작업 디렉터리에서 만들어진 모든 버전들의 내역이 저장소에 위치해 있다. 즉, 저장소는 **버전이 만들어지고 관리되는 공간**이다. 저장소에 새로운 버전을 만드는 것을 '커밋한다(commit)'라고 표현한다. 이후 스테이지는 깨끗하게 비워진다.

***

### .gitigmore로 무시하기

> git이 무시할 파일/폴더 목록을 적는 파일이다.

***

### 커밋 해시

프로젝트는 무수히 많은 커밋이 모여 만들어진다. 각각의 커밋을 구분하는 값이 **커밋 해시**이다.

***

### 태그를 붙여 릴리스하기

새로운 기능을 추가하는 커밋도 있고, 버그를 수정하는 커밋도 있고, 아주 사소한 변경 사항만 담은 커밋도 있을 것이다. 그러다가 충분히 개발되었다고 판단되면 사용자에게 결과물을 선보일 것이다. 이를 **릴리스(release)**&#xB77C;고 한다.

이때 사용자에게 선보일 서비스의 버전은 어떻게 나타내는 것이 좋을까?

커밋 해시는 무작위한 문자열과 같아서 가독성이 좋지 못하다. 이럴 때 사용할 수 있는 것이 **태그(tag)**&#xC774;다. 릴리스되는 커밋에 태그를 붙인다면 커밋이 여러개 있는 상황에서도 의미 있는 커밋이 무엇인지 한눈에 알아보기 쉽다.

보통 릴리스 버전은 숫자 세 개로 표현한다.

```
vX. Y. Z
```

* 가장 앞에 나오는 숫자는 **주(major)버전**이라고 부른다. 일반적으로 새롭게 내놓은 버전이 **기존에 내놓은 버전과 호환되지 않을 정도로 큰 변화**가 있을 때 증가시킨다.
* 두번째 숫자는 **부 (minor)버전**이라고 부른다. 일반적으로 앞 버전과 문제없이 호환되지만 **새로운 기능을 추가**했을 때 증가한다.
* 마지막 숫자는 **수(patch)버전**이라 한다. **버그를 수정한 정도의 작은 변화**가 있을 때 증가한다.

***

### 작업 되돌리기

#### 스테이지로 올리지 않은 변경된 파일 취소하기

#### 스테이지로 올라간 파일 취소하기

#### 이미 커밋한 파일 취소하기

* **revert**

> 버전을 되돌리되, 되돌아간 상태에 대한 새로운 버전(커밋)을 만드는 방식
>
> **기존의 버전은 삭제되지 않는다.**

* **reset**

> 되돌아갈 버전의 시점으로 완전히 되돌아가는 방식
>
> 되돌아갈 이후의 버전은 삭제된다.

reset에는 세 종류가 있다.

1. **soft :** 작업 디렉터리 내 변경 사항과 스테이지에 추가된 변경사항은 유지하고, 커밋했다는 사실만 되돌리는 방법
2. **mixed** : 작업 디렉터리 내 변경 사항은 유지하고, 스테이지와 커밋을 되돌리는 방법
3. **hard** : 작업 디렉터리 내 변경사항까지 통째로 되돌리는 방식

***

### 스태시(stash)로 작업 임시 저장하기

작업 내역이 썩 마음에 들진 않지만 버리기는 아까울 때, 갑자기 다른 중요한 일을 처리해야 할 때 사용할 수 있는 기능이다.

스태시를 하게 되면 작업 디렉터리에서 생성한 모든 변경 사항이 임시 저장되고, 작업 디렉터리는 변경 사항이 생기기 전의 깨끗한 상태로 돌아간다.

***

### 참고 문헌

* 강민철. 『모두의 깃 & 깃허브』. 길벗, 2022.
